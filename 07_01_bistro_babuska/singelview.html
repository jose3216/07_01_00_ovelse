<!DOCTYPE html>
<html lang="da">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title class="navn"></title>
	<style>
		body {
			margin: 15px, auto;
			align-content: center;
		}

		article {}

		h1 {}
	</style>
</head>

<body>

	<article class="retten">
		<h1 class="ret">Retten</h1>
		<img src="" alt="" class="pic">
		<div class="br_tekst">
			<h3 class="pris"></h3>
			<p class="oprindelse"></p>
			<p class="l_tekst"></p>
			<button class="detaljer">Tilbage</button>
		</div>
	</article>

	<script>
		const urlParams = new URLSearchParams(window.location.search);
		const id = urlParams.get("id");

		const medieurl = "https://babushka-dd8a.restdb.io/media/";
		const myHeaders = {

			"x-apikey": "600ec2fb1346a1524ff12de4"
		}
		console.log("ID", id);
		document.addEventListener("DOMContentLoaded", loadJSON);
		let retter;

		async function loadJSON() {
			const JSONData = await fetch(`https://babushka-dd8a.restdb.io/rest/menu/${id}`, {
				headers: myHeaders
			});
			ret = await JSONData.json();
			console.log("Menu", ret);
			visRet(ret);
		}

		function visRet() {
			console.log("ret");
			document.querySelector(".pic").src = medieurl + ret.billede;
			document.querySelector(".pic").alt = ret.kortbeskrivelse;
			document.querySelector(".pic").title = ret.kortbeskrivelse;

			document.querySelector(".navn").textContent = ret.navn;
			document.querySelector(".ret").textContent = ret.navn;


			document.querySelector(".pris").textContent = `Pris: ${ret.pris}`;
			document.querySelector(".oprindelse").textContent = `Oprindelse fra: ${ret.oprindelsesregion}`;
			document.querySelector(".l_tekst").textContent = ret.langbeskrivelse;

			document.querySelector("button").addEventListener("click", tilbageTilMenu);
		}

		function tilbageTilMenu() {
			history.back();
		}
	</script>
</body></html>
